{"ast":null,"code":"import { DynamicComponentDirective } from 'src/app/directives/dynamic-component.directive';\nimport { FormAboutComponent } from 'src/app/components/modal/form-about/form-about.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/person-data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../manage-buttons/manage-buttons.component\";\nimport * as i4 from \"../../directives/dynamic-component.directive\";\nfunction AboutComponent_ng_template_23_Template(rf, ctx) {}\nconst _c0 = function () {\n  return [\"/contact\"];\n};\nexport class AboutComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.reloadHTML = () => {\n      this.getData();\n    }; // inicialización por defecto\n    this.data = {\n      id: 0,\n      name: '',\n      lastname: '',\n      long_description: '',\n      short_description: '',\n      title: '',\n      nationality: '',\n      birthdate: '',\n      img_profile: '',\n      img_banner: '',\n      email: '',\n      phone: '',\n      facebook_id: '',\n      instagram_id: '',\n      twitter_id: ''\n    };\n  }\n  //ngOnInit(): void {\n  ngAfterViewInit() {\n    this.getData();\n  }\n  getData() {\n    this.dataService.getData().subscribe({\n      next: resp => {\n        this.data = resp[0];\n        //console.log(\"Main -> Datos Personales: \"+JSON.stringify(this.data));\n        console.log(\"About -> OK\");\n        this.age = Math.floor((Date.now() - Date.parse(this.data.birthdate)) / (1000 * 3600 * 24) / 365);\n        this.generateForm();\n      },\n      error: error => {\n        console.error(error);\n      }\n    });\n  }\n  generateForm() {\n    const viewContainerRef = this.dynamic.viewContainerRef;\n    const containerRef = viewContainerRef.createComponent(FormAboutComponent);\n    containerRef.instance.defaultName = this.data.name;\n    containerRef.instance.defaultLastName = this.data.lastname;\n    containerRef.instance.defaultLongDescription = this.data.long_description;\n    containerRef.instance.defaultShortDescription = this.data.short_description;\n    containerRef.instance.defaultTitle = this.data.title;\n    containerRef.instance.defaultNationality = this.data.nationality;\n    containerRef.instance.defaultBirthDate = this.data.birthdate;\n    containerRef.instance.defaultPfp = this.data.img_profile;\n    containerRef.instance.defaultBanner = this.data.img_banner;\n    containerRef.instance.defaultEmail = this.data.email;\n    containerRef.instance.defaultPhone = this.data.phone;\n    containerRef.instance.defaultFacebook = this.data.facebook_id;\n    containerRef.instance.defaultInstagram = this.data.instagram_id;\n    containerRef.instance.defaultTwitter = this.data.twitter_id;\n    this.reloadHTML = this.reloadHTML.bind(this); ///////*\n    containerRef.instance.onReloadHTML = this.reloadHTML;\n    /*const i = this.childComponents.findIndex(c => c.instance.id === child.id);\n    if (i !== -1) {\n      this.childComponents[i].destroy();\n      this.childComponents.splice(i, 1);\n    }\n    this.childComponents.push(containerRef);*/\n  }\n  static #_ = this.ɵfac = function AboutComponent_Factory(t) {\n    return new (t || AboutComponent)(i0.ɵɵdirectiveInject(i1.PersonDataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AboutComponent,\n    selectors: [[\"app-about\"]],\n    viewQuery: function AboutComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(DynamicComponentDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dynamic = _t.first);\n      }\n    },\n    inputs: {\n      reloadHTML: \"reloadHTML\"\n    },\n    decls: 24,\n    vars: 10,\n    consts: [[\"id\", \"About\", 1, \"row\"], [1, \"col-12\", \"mt-4\"], [1, \"card\", \"bg-transparent\", \"mb-4\"], [1, \"pRelative\", 3, \"button_edit\", \"id\", \"modal_id_edit\"], [1, \"row\", \"g-0\"], [1, \"img-profile\", \"col-xs-12\", \"col-sm-4\", \"col-md-4\", \"col-xl-2\", \"rounded-circle\", \"pRelative\"], [\"alt\", \"\", 1, \"card-img\", \"p-2\", \"rounded-circle\", 3, \"src\"], [1, \"col-xs-12\", \"col-sm-8\", \"col-md-8\", \"col-xl-10\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [3, \"routerLink\"], [\"childContainer\", \"\"], [\"appDynamicComponent\", \"\"]],\n    template: function AboutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"h3\");\n        i0.ɵɵtext(2, \"SOBRE MI\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\n        i0.ɵɵelement(5, \"app-manage-buttons\", 3);\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5);\n        i0.ɵɵelement(8, \"img\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"h4\", 9);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\", 10);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"p\", 10);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\", 10);\n        i0.ɵɵtext(18, \"\\u00BFTienes un proyecto interesante? \");\n        i0.ɵɵelementStart(19, \"a\", 11);\n        i0.ɵɵtext(20, \"Hablemos!\");\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelementStart(21, \"div\", null, 12);\n        i0.ɵɵtemplate(23, AboutComponent_ng_template_23_Template, 0, 0, \"ng-template\", 13);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"button_edit\", true)(\"id\", 0)(\"modal_id_edit\", \"aboutModal\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.data.img_profile, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Soy \", ctx.data.name, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"Tengo \", ctx.age, \" a\\u00F1os y soy \", ctx.data.nationality, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.data.long_description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c0));\n      }\n    },\n    dependencies: [i2.RouterLink, i3.ManageButtonsComponent, i4.DynamicComponentDirective],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["DynamicComponentDirective","FormAboutComponent","AboutComponent","constructor","dataService","getData","id","name","lastname","long_description","short_description","title","nationality","birthdate","img_profile","img_banner","email","phone","facebook_id","instagram_id","twitter_id","ngAfterViewInit","subscribe","next","resp","data","console","log","age","Math","floor","Date","now","parse","generateForm","error","viewContainerRef","dynamic","containerRef","createComponent","instance","defaultName","defaultLastName","defaultLongDescription","defaultShortDescription","defaultTitle","defaultNationality","defaultBirthDate","defaultPfp","defaultBanner","defaultEmail","defaultPhone","defaultFacebook","defaultInstagram","defaultTwitter","reloadHTML","bind","onReloadHTML","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/home/ramiro/Documentos/Portfolio/Frontend/src/app/components/about/about.component.ts","/home/ramiro/Documentos/Portfolio/Frontend/src/app/components/about/about.component.html"],"sourcesContent":["import { Component, OnInit, Input, AfterViewInit, ViewChild } from '@angular/core';\nimport { DynamicComponentDirective } from 'src/app/directives/dynamic-component.directive';\nimport { Person } from 'src/app/models/models';\nimport { PersonDataService } from 'src/app/services/person-data.service';\nimport { FormAboutComponent } from 'src/app/components/modal/form-about/form-about.component';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html'\n})\nexport class AboutComponent implements AfterViewInit {\n  @Input() reloadHTML: () => void = () => {this.getData();}; // inicialización por defecto\n\n  @ViewChild(DynamicComponentDirective) dynamic !:DynamicComponentDirective;\n\n  data: Person = {\n    id: 0,\n    name: '',\n    lastname: '',\n    long_description: '',\n    short_description: '',\n    title: '',\n    nationality: '',\n    birthdate: '',\n    img_profile: '',\n    img_banner: '',\n    email: '',\n    phone: '',\n    facebook_id: '',\n    instagram_id: '',\n    twitter_id: ''\n  };\n  //data:any;\n  age:any;\n\n  constructor(private dataService:PersonDataService){}\n\n  //ngOnInit(): void {\n  ngAfterViewInit(): void {\n    this.getData();\n  }\n\n  public getData(){\n    this.dataService.getData().subscribe({\n      next: (resp) => {\n        this.data = resp[0];\n        //console.log(\"Main -> Datos Personales: \"+JSON.stringify(this.data));\n        console.log(\"About -> OK\");\n        this.age = Math.floor(((Date.now() - Date.parse(this.data.birthdate)) / (1000 * 3600 * 24))/365);\n        this.generateForm();\n      },\n      error: (error) => {\n        console.error(error);\n      }\n    });\n  }\n  generateForm():void {\n    const viewContainerRef = this.dynamic.viewContainerRef;\n    const containerRef = viewContainerRef.createComponent<any>(FormAboutComponent);\n    containerRef.instance.defaultName = this.data.name;\n    containerRef.instance.defaultLastName = this.data.lastname;\n    containerRef.instance.defaultLongDescription = this.data.long_description;\n    containerRef.instance.defaultShortDescription = this.data.short_description;\n    containerRef.instance.defaultTitle = this.data.title;\n    containerRef.instance.defaultNationality = this.data.nationality;\n    containerRef.instance.defaultBirthDate = this.data.birthdate;\n    containerRef.instance.defaultPfp = this.data.img_profile;\n    containerRef.instance.defaultBanner = this.data.img_banner;\n    containerRef.instance.defaultEmail = this.data.email;\n    containerRef.instance.defaultPhone = this.data.phone;\n    containerRef.instance.defaultFacebook = this.data.facebook_id;\n    containerRef.instance.defaultInstagram = this.data.instagram_id;\n    containerRef.instance.defaultTwitter = this.data.twitter_id;\n    this.reloadHTML = this.reloadHTML.bind(this); ///////*\n    containerRef.instance.onReloadHTML = this.reloadHTML;\n    /*const i = this.childComponents.findIndex(c => c.instance.id === child.id);\n    if (i !== -1) {\n      this.childComponents[i].destroy();\n      this.childComponents.splice(i, 1);\n    }\n    this.childComponents.push(containerRef);*/\n\n  }\n}\n","<section id=\"About\" class=\"row\">\n    <h3>SOBRE MI</h3>\n    <div class=\"col-12 mt-4\">\n        <div class=\"card bg-transparent mb-4\">\n            <app-manage-buttons class=\"pRelative\"\n                [button_edit]=\"true\"\n                [id]=\"0\"\n                [modal_id_edit]=\"'aboutModal'\">\n            </app-manage-buttons>\n            <div class=\"row g-0\">\n                <div class=\"img-profile col-xs-12 col-sm-4 col-md-4 col-xl-2 rounded-circle pRelative\">\n                    <img class=\"card-img p-2 rounded-circle\" [src]=\"data.img_profile\" alt=\"\">\n                    <!--app-manage-buttons [button_edit]=\"true\"></app-manage-buttons-->\n                </div>\n                <div class=\"col-xs-12 col-sm-8 col-md-8 col-xl-10 \">\n                    <div class=\"card-body\">\n                        <h4 class=\"card-title\" >Soy {{data.name}}</h4>\n                        <p class=\"card-text\">Tengo {{age}} años y soy {{data.nationality}}</p>\n                        <p class=\"card-text\">{{data.long_description}}</p>\n                        <p class=\"card-text\">¿Tienes un proyecto interesante? <a [routerLink]=\"['/contact']\">Hablemos!</a></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n<div #childContainer><ng-template appDynamicComponent></ng-template></div>\n<!--app-form-about //Lo creo dinamicamente desde about.component.ts para evitar error tiempos de ejecucion en la definicion de   data: Person = {...}\n    [modalId]=\"'aboutModal'\"\n    [modalTitle]=\"'Editar Entrada'\"\n    [reloadHTML] = \"reloadHTML\"\n    \n    [defaultName]=\"data.name\"\n    [defaultLastName]=\"data.lastname\"\n    [defaultTitle]=\"data.title\"\n    [defaultLongDescription]=\"data.long_description\"\n    [defaultShortDescription]=\"data.short_description\"\n    [defaultNationality]=\"data.nationality\"\n    [defaultBirthDate]=\"data.birthdate\"\n    [defaultPfp]=\"data.img_profile\"\n    [defaultBanner]=\"data.img_banner\"\n    [defaultEmail]=\"data.email\"\n    [defaultPhone]=\"data.phone\"\n    [defaultFacebook]=\"data.facebook_id\"\n    [defaultInstagram]=\"data.instagram_id\"\n    [defaultTwitter]=\"data.twitter_id\">\n</app-form-about-->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}