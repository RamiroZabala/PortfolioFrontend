{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ViewChild } from '@angular/core';\nimport { DynamicComponentDirective } from 'src/app/directives/dynamic-component.directive';\nimport { FormAboutComponent } from 'src/app/components/modal/form-about/form-about.component';\nimport { IsLogin } from 'src/app/config/config-data';\nlet AboutComponent = class AboutComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.reloadHTML = () => {\n      this.getData();\n    }; // inicialización por defecto\n    this.isLogin = IsLogin.IS_LOGIN;\n    this.data = {\n      id: 0,\n      name: '',\n      lastname: '',\n      long_description: '',\n      short_description: '',\n      title: '',\n      nationality: '',\n      birthdate: '',\n      img_profile: '',\n      img_banner: '',\n      email: '',\n      phone: '',\n      facebook_id: '',\n      instagram_id: '',\n      twitter_id: ''\n    };\n  }\n  //ngOnInit(): void {\n  ngAfterViewInit() {\n    this.getData();\n  }\n  getData() {\n    this.dataService.getData().subscribe({\n      next: resp => {\n        this.data = resp[0];\n        //console.log(\"Main -> Datos Personales: \"+JSON.stringify(this.data));\n        console.log(\"About -> OK\");\n        this.age = Math.floor((Date.now() - Date.parse(this.data.birthdate)) / (1000 * 3600 * 24) / 365);\n        this.generateForm();\n      },\n      error: error => {\n        console.error(error);\n      }\n    });\n  }\n  generateForm() {\n    const viewContainerRef = this.dynamic.viewContainerRef;\n    const containerRef = viewContainerRef.createComponent(FormAboutComponent);\n    containerRef.instance.defaultName = this.data.name;\n    containerRef.instance.defaultLastName = this.data.lastname;\n    containerRef.instance.defaultLongDescription = this.data.long_description;\n    containerRef.instance.defaultShortDescription = this.data.short_description;\n    containerRef.instance.defaultTitle = this.data.title;\n    containerRef.instance.defaultNationality = this.data.nationality;\n    containerRef.instance.defaultBirthDate = this.data.birthdate;\n    containerRef.instance.defaultPfp = this.data.img_profile;\n    containerRef.instance.defaultBanner = this.data.img_banner;\n    containerRef.instance.defaultEmail = this.data.email;\n    containerRef.instance.defaultPhone = this.data.phone;\n    containerRef.instance.defaultFacebook = this.data.facebook_id;\n    containerRef.instance.defaultInstagram = this.data.instagram_id;\n    containerRef.instance.defaultTwitter = this.data.twitter_id;\n    this.reloadHTML = this.reloadHTML.bind(this); ///////*\n    containerRef.instance.onReloadHTML = this.reloadHTML;\n    /*const i = this.childComponents.findIndex(c => c.instance.id === child.id);\n    if (i !== -1) {\n      this.childComponents[i].destroy();\n      this.childComponents.splice(i, 1);\n    }\n    this.childComponents.push(containerRef);*/\n  }\n};\n\n__decorate([Input()], AboutComponent.prototype, \"reloadHTML\", void 0);\n__decorate([ViewChild(DynamicComponentDirective)], AboutComponent.prototype, \"dynamic\", void 0);\nAboutComponent = __decorate([Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html'\n})], AboutComponent);\nexport { AboutComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAUC,KAAK,EAAiBC,SAAS,QAAQ,eAAe;AAClF,SAASC,yBAAyB,QAAQ,gDAAgD;AAG1F,SAASC,kBAAkB,QAAQ,0DAA0D;AAC7F,SAASC,OAAO,QAAQ,4BAA4B;AAM7C,IAAMC,cAAc,GAApB,MAAMA,cAAc;EA4BzBC,YAAoBC,WAA6B;IAA7B,gBAAW,GAAXA,WAAW;IA3BtB,eAAU,GAAe,MAAK;MAAE,IAAI,CAACC,OAAO,EAAE;IAAC,CAAC,CAAC,CAAC;IAE3D,YAAO,GAAYJ,OAAO,CAACK,QAAQ;IAKnC,SAAI,GAAW;MACbC,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,gBAAgB,EAAE,EAAE;MACpBC,iBAAiB,EAAE,EAAE;MACrBC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE;KACb;EAIkD;EAEnD;EACAC,eAAe;IACb,IAAI,CAACjB,OAAO,EAAE;EAChB;EAEOA,OAAO;IACZ,IAAI,CAACD,WAAW,CAACC,OAAO,EAAE,CAACkB,SAAS,CAAC;MACnCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,IAAI,GAAGD,IAAI,CAAC,CAAC,CAAC;QACnB;QACAE,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;QAC1B,IAAI,CAACC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAAE,CAACC,IAAI,CAACC,GAAG,EAAE,GAAGD,IAAI,CAACE,KAAK,CAAC,IAAI,CAACR,IAAI,CAACZ,SAAS,CAAC,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC,GAAE,GAAG,CAAC;QAChG,IAAI,CAACqB,YAAY,EAAE;MACrB,CAAC;MACDC,KAAK,EAAGA,KAAK,IAAI;QACfT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC;MACtB;KACD,CAAC;EACJ;EACAD,YAAY;IACV,MAAME,gBAAgB,GAAG,IAAI,CAACC,OAAO,CAACD,gBAAgB;IACtD,MAAME,YAAY,GAAGF,gBAAgB,CAACG,eAAe,CAAMxC,kBAAkB,CAAC;IAC9EuC,YAAY,CAACE,QAAQ,CAACC,WAAW,GAAG,IAAI,CAAChB,IAAI,CAAClB,IAAI;IAClD+B,YAAY,CAACE,QAAQ,CAACE,eAAe,GAAG,IAAI,CAACjB,IAAI,CAACjB,QAAQ;IAC1D8B,YAAY,CAACE,QAAQ,CAACG,sBAAsB,GAAG,IAAI,CAAClB,IAAI,CAAChB,gBAAgB;IACzE6B,YAAY,CAACE,QAAQ,CAACI,uBAAuB,GAAG,IAAI,CAACnB,IAAI,CAACf,iBAAiB;IAC3E4B,YAAY,CAACE,QAAQ,CAACK,YAAY,GAAG,IAAI,CAACpB,IAAI,CAACd,KAAK;IACpD2B,YAAY,CAACE,QAAQ,CAACM,kBAAkB,GAAG,IAAI,CAACrB,IAAI,CAACb,WAAW;IAChE0B,YAAY,CAACE,QAAQ,CAACO,gBAAgB,GAAG,IAAI,CAACtB,IAAI,CAACZ,SAAS;IAC5DyB,YAAY,CAACE,QAAQ,CAACQ,UAAU,GAAG,IAAI,CAACvB,IAAI,CAACX,WAAW;IACxDwB,YAAY,CAACE,QAAQ,CAACS,aAAa,GAAG,IAAI,CAACxB,IAAI,CAACV,UAAU;IAC1DuB,YAAY,CAACE,QAAQ,CAACU,YAAY,GAAG,IAAI,CAACzB,IAAI,CAACT,KAAK;IACpDsB,YAAY,CAACE,QAAQ,CAACW,YAAY,GAAG,IAAI,CAAC1B,IAAI,CAACR,KAAK;IACpDqB,YAAY,CAACE,QAAQ,CAACY,eAAe,GAAG,IAAI,CAAC3B,IAAI,CAACP,WAAW;IAC7DoB,YAAY,CAACE,QAAQ,CAACa,gBAAgB,GAAG,IAAI,CAAC5B,IAAI,CAACN,YAAY;IAC/DmB,YAAY,CAACE,QAAQ,CAACc,cAAc,GAAG,IAAI,CAAC7B,IAAI,CAACL,UAAU;IAC3D,IAAI,CAACmC,UAAU,GAAG,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9ClB,YAAY,CAACE,QAAQ,CAACiB,YAAY,GAAG,IAAI,CAACF,UAAU;IACpD;;;;;;EAOF;CACD;;AA3EUG,YAAR9D,KAAK,EAAE,kDAAkD;AAKpB8D,YAArC7D,SAAS,CAACC,yBAAyB,CAAC,+CAAqC;AAN/DG,cAAc,eAJ1BN,SAAS,CAAC;EACTgE,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE;CACd,CAAC,GACW3D,cAAc,CA4E1B;SA5EYA,cAAc","names":["Component","Input","ViewChild","DynamicComponentDirective","FormAboutComponent","IsLogin","AboutComponent","constructor","dataService","getData","IS_LOGIN","id","name","lastname","long_description","short_description","title","nationality","birthdate","img_profile","img_banner","email","phone","facebook_id","instagram_id","twitter_id","ngAfterViewInit","subscribe","next","resp","data","console","log","age","Math","floor","Date","now","parse","generateForm","error","viewContainerRef","dynamic","containerRef","createComponent","instance","defaultName","defaultLastName","defaultLongDescription","defaultShortDescription","defaultTitle","defaultNationality","defaultBirthDate","defaultPfp","defaultBanner","defaultEmail","defaultPhone","defaultFacebook","defaultInstagram","defaultTwitter","reloadHTML","bind","onReloadHTML","__decorate","selector","templateUrl"],"sourceRoot":"","sources":["/home/ramiro/Documentos/Portfolio/Frontend/src/app/components/about/about.component.ts"],"sourcesContent":["import { Component, OnInit, Input, AfterViewInit, ViewChild } from '@angular/core';\nimport { DynamicComponentDirective } from 'src/app/directives/dynamic-component.directive';\nimport { Person } from 'src/app/models/models';\nimport { PersonDataService } from 'src/app/services/person-data.service';\nimport { FormAboutComponent } from 'src/app/components/modal/form-about/form-about.component';\nimport { IsLogin } from 'src/app/config/config-data';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html'\n})\nexport class AboutComponent implements AfterViewInit {\n  @Input() reloadHTML: () => void = () => {this.getData();}; // inicialización por defecto\n\n  isLogin: boolean = IsLogin.IS_LOGIN;\n\n  \n  @ViewChild(DynamicComponentDirective) dynamic !:DynamicComponentDirective;\n\n  data: Person = {\n    id: 0,\n    name: '',\n    lastname: '',\n    long_description: '',\n    short_description: '',\n    title: '',\n    nationality: '',\n    birthdate: '',\n    img_profile: '',\n    img_banner: '',\n    email: '',\n    phone: '',\n    facebook_id: '',\n    instagram_id: '',\n    twitter_id: ''\n  };\n  //data:any;\n  age:any;\n\n  constructor(private dataService:PersonDataService){}\n\n  //ngOnInit(): void {\n  ngAfterViewInit(): void {\n    this.getData();\n  }\n\n  public getData(){\n    this.dataService.getData().subscribe({\n      next: (resp) => {\n        this.data = resp[0];\n        //console.log(\"Main -> Datos Personales: \"+JSON.stringify(this.data));\n        console.log(\"About -> OK\");\n        this.age = Math.floor(((Date.now() - Date.parse(this.data.birthdate)) / (1000 * 3600 * 24))/365);\n        this.generateForm();\n      },\n      error: (error) => {\n        console.error(error);\n      }\n    });\n  }\n  generateForm():void {\n    const viewContainerRef = this.dynamic.viewContainerRef;\n    const containerRef = viewContainerRef.createComponent<any>(FormAboutComponent);\n    containerRef.instance.defaultName = this.data.name;\n    containerRef.instance.defaultLastName = this.data.lastname;\n    containerRef.instance.defaultLongDescription = this.data.long_description;\n    containerRef.instance.defaultShortDescription = this.data.short_description;\n    containerRef.instance.defaultTitle = this.data.title;\n    containerRef.instance.defaultNationality = this.data.nationality;\n    containerRef.instance.defaultBirthDate = this.data.birthdate;\n    containerRef.instance.defaultPfp = this.data.img_profile;\n    containerRef.instance.defaultBanner = this.data.img_banner;\n    containerRef.instance.defaultEmail = this.data.email;\n    containerRef.instance.defaultPhone = this.data.phone;\n    containerRef.instance.defaultFacebook = this.data.facebook_id;\n    containerRef.instance.defaultInstagram = this.data.instagram_id;\n    containerRef.instance.defaultTwitter = this.data.twitter_id;\n    this.reloadHTML = this.reloadHTML.bind(this); ///////*\n    containerRef.instance.onReloadHTML = this.reloadHTML;\n    /*const i = this.childComponents.findIndex(c => c.instance.id === child.id);\n    if (i !== -1) {\n      this.childComponents[i].destroy();\n      this.childComponents.splice(i, 1);\n    }\n    this.childComponents.push(containerRef);*/\n\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}